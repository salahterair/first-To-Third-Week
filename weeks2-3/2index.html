<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Weeks 2–3 of Human Development – MCQ Quiz (20)</title>
<meta name="description" content="20 single-best-answer questions • Created by Dr.Salaheldin Terair" />
<style>
  :root { --maxw: 980px; --brand: #c62828; --accent: #003366; }
  * { box-sizing: border-box; }
  body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
         line-height: 1.5; margin: 0; background: #f6f7fb; color: #111; }
  header { background: #fff; border-bottom: 2px solid #eee; }
  .brand { max-width: var(--maxw); margin: 0 auto; padding: 18px 16px 8px; text-align:center; }
  .brand img { width: 110px; height: auto; border: 1px solid #eee; border-radius: 8px; background: #fff; }
  .brand h1 { margin: 8px 0 4px; font-size: clamp(20px, 3.5vw, 28px); }
  .brand p { margin: 0; color: #444; }
  .subtitle { color: #0b8a00; font-weight: 800; margin-top: 6px; }
  .bar { background: var(--accent); color: #fff; }
  .bar .inner { max-width: var(--maxw); margin: 0 auto; padding: 12px 16px; text-align:center; }
  .wrap { max-width: var(--maxw); margin: 24px auto 56px; padding: 0 16px; }
  .card { background: #fff; border: 1px solid #e8e8ef; border-radius: 14px; padding: 18px; box-shadow: 0 6px 18px rgba(0,0,0,0.06); }
  .controls { display: flex; gap: 10px; flex-wrap: wrap; margin: 8px 0 18px; }
  button { border: 1px solid var(--accent); background: var(--accent); color: #fff; padding: 10px 14px; border-radius: 10px; cursor: pointer; font-weight: 600; }
  button.secondary { background: #fff; color: var(--accent); }
  button:disabled { opacity: 0.5; cursor: not-allowed; }
  .q { border: 1px solid #ececf4; border-radius: 12px; padding: 14px; margin: 14px 0; }
  .q h3 { margin: 0 0 8px; font-size: 17px; }
  .meta { font-size: 12px; color: #666; margin-bottom: 6px; }
  .options { display: grid; gap: 8px; }
  .opt { border: 1px solid #e9e9f3; border-radius: 10px; padding: 10px 12px; display: flex; align-items: center; gap: 10px; cursor: pointer; background: #fafafe; }
  .opt input { margin: 0; }
  .opt.correct { border-color: #2fb344; background: #effaf2; }
  .opt.incorrect { border-color: #f03; background: #fff0f2; }
  .explain { margin-top: 10px; border-left: 4px solid #cdd; padding: 8px 12px; background: #f8fafc; border-radius: 6px; display: none; }
  .explain.show { display: block; }
  .score { margin-top: 14px; font-weight: 700; color: var(--accent); }
  details { margin-top: 6px; }
  summary { cursor: pointer; }
  table { width: 100%; border-collapse: collapse; margin-top: 10px; }
  th, td { border: 1px solid #e8e8ef; padding: 8px; font-size: 14px; text-align: left; }
  th { background: #f3f6ff; }
  footer { text-align:center; color:#666; font-size: 13px; margin: 40px 0; }
  .badge { background: #eef9f2; color: var(--accent); padding: 2px 8px; border-radius: 999px; font-size: 12px; margin-left: 6px; }
  .notice { font-size: 13px; color: #666; margin-top: 6px; }
</style>
</head>
<body>
<header>
  <div class="brand">
    <img src="logo.jpg" alt="UMST Logo" />
    <h1>University of Medical Sciences &amp; Technology</h1>
    <p><strong>Faculty of Medicine</strong> — Batch 30 &amp; 28, Abha Center</p>
    <p class="subtitle">Created by Dr.Salaheldin Terair</p>
  </div>
  <div class="bar"><div class="inner">Weeks 2–3 of Human Development – MCQ Quiz (20)</div></div>
</header>

<div class="wrap">
  <div class="card">
    <div class="controls">
      <button id="startBtn">Start / Reset</button>
      <button id="revealAllBtn" class="secondary">Reveal All Explanations</button>
      <button id="shuffleBtn" class="secondary">Shuffle Questions</button>
      <span id="progress" class="badge">Unanswered: 20</span>
    </div>
    <div id="quiz"></div>
    <div id="results" class="score"></div>
    <details id="reviewDetails" open="false" style="pointer-events:none; opacity:0.5;">
      <summary>Show review table</summary>
      <div id="review"></div>
    </details>
    <div class="notice">You must answer all questions before the review table becomes available.</div>
  </div>
</div>

<footer>
  © <span id="yr"></span> – Educational use (First-year medical students)
</footer>

<script>
const QUESTIONS = [{"lo": "Week 2 – Implantation", "question": "During implantation, which trophoblastic layer is invasive and responsible for eroding maternal capillaries to form lacunae?", "options": ["Cytotrophoblast", "Syncytiotrophoblast", "Epiblast", "Hypoblast"], "answer": "B", "explanation": "Syncytiotrophoblast is multinucleated, invasive, and erodes maternal vessels forming lacunae; cytotrophoblast is mitotically active but not invasive."}, {"lo": "Week 2 – Decidual Reaction", "question": "The decidual reaction observed in the endometrial stroma during implantation primarily results in:", "options": ["Proliferation of syncytiotrophoblast", "Accumulation of glycogen and lipids in stromal cells", "Formation of the amniotic cavity", "Differentiation of the notochord"], "answer": "B", "explanation": "Endometrial stromal cells swell and store glycogen and lipids, providing early nutrition to the embryo."}, {"lo": "Week 2 – Bilaminar Disc", "question": "The bilaminar germ disc consists of:", "options": ["Epiblast and trophoblast", "Epiblast and hypoblast", "Hypoblast and cytotrophoblast", "Amnioblasts and hypoblast"], "answer": "B", "explanation": "By the second week, the embryonic disc is bilaminar: epiblast (dorsal) and hypoblast (ventral)."}, {"lo": "Week 2 – Cavities", "question": "Which cavity develops above the epiblast and is lined by amnioblasts?", "options": ["Chorionic cavity", "Amniotic cavity", "Primary yolk sac", "Secondary yolk sac"], "answer": "B", "explanation": "The amniotic cavity forms over the epiblast and is lined by amnioblasts."}, {"lo": "Week 2 – Extraembryonic Mesoderm", "question": "The chorionic cavity arises within which tissue?", "options": ["Extraembryonic mesoderm", "Paraxial mesoderm", "Intermediate mesoderm", "Endoderm"], "answer": "A", "explanation": "Spaces appear in the extraembryonic mesoderm and coalesce to form the chorionic cavity."}, {"lo": "Clinical – Ectopic", "question": "A 27-year-old with a history of pelvic inflammatory disease presents with amenorrhea, lower abdominal pain, and spotting. β-hCG is positive, ultrasound shows no intrauterine gestation. Most likely diagnosis?", "options": ["Normal early pregnancy", "Ectopic pregnancy", "Molar pregnancy", "Corpus luteum cyst"], "answer": "B", "explanation": "PID is a risk factor for tubal implantation; absence of intrauterine pregnancy with positive β-hCG suggests ectopic pregnancy."}, {"lo": "Week 2 – Yolk Sacs", "question": "The primary yolk sac is replaced by the secondary yolk sac when:", "options": ["Extraembryonic mesoderm forms", "Hypoblast migrates to form a new lining", "Amniotic cavity closes", "Primitive streak forms"], "answer": "B", "explanation": "Hypoblast cell migration creates the exocoelomic membrane (primary yolk sac) and later remodels into the secondary yolk sac."}, {"lo": "Week 2 – Connecting Stalk", "question": "The connecting stalk, which later becomes the umbilical cord, traverses which cavity?", "options": ["Amniotic cavity", "Chorionic cavity", "Pericardial cavity", "Yolk sac lumen"], "answer": "B", "explanation": "The chorionic cavity surrounds the amnion and yolk sac, leaving the embryo attached via the connecting stalk."}, {"lo": "Week 3 – Gastrulation", "question": "A researcher blocks cell migration through the primitive streak in a model organism. Which layer is most directly affected first?", "options": ["Ectoderm formation", "Endoderm formation by hypoblast cells", "Endoderm formation by epiblast cells displacing hypoblast", "Neural crest formation"], "answer": "C", "explanation": "First ingressing epiblast cells replace the hypoblast to form definitive endoderm; subsequent ingress forms intraembryonic mesoderm."}, {"lo": "Week 3 – Primitive Streak", "question": "The primitive node is located:", "options": ["At the cranial end of the primitive streak", "At the caudal end of the primitive streak", "Within the hypoblast", "In the extraembryonic mesoderm"], "answer": "A", "explanation": "The primitive node caps the cranial end of the primitive streak and contains the primitive pit."}, {"lo": "Week 3 – Notochord", "question": "A key role of the notochord is to:", "options": ["Form the vertebral bodies", "Induce overlying ectoderm to form neural plate", "Generate amniotic fluid", "Differentiate into the heart tube"], "answer": "B", "explanation": "Notochordal signaling induces neurulation in the overlying ectoderm; remnants contribute to the nucleus pulposus."}, {"lo": "Axes – Left–Right", "question": "Defects in ciliary motion at the primitive node most directly disrupt which axis establishment?", "options": ["Cranial–caudal", "Dorsal–ventral", "Left–right", "Proximal–distal"], "answer": "C", "explanation": "Left–right asymmetry is influenced by nodal cilia generating directional fluid flow and asymmetric signaling."}, {"lo": "Week 4 – Folding", "question": "Lateral folding of the embryo primarily results in:", "options": ["Positioning of the heart tube cranially", "Closure of the ventral body wall and formation of a cylindrical body", "Formation of the primitive streak", "Formation of the amniotic cavity"], "answer": "B", "explanation": "Lateral folding brings body walls ventrally, closing the ventral body wall and forming the primitive gut tube."}, {"lo": "Germ Layers – Ectoderm", "question": "Which structure is a derivative of surface ectoderm?", "options": ["Dermis of back", "Epidermis", "Adrenal medulla", "Endothelial cells"], "answer": "B", "explanation": "Surface ectoderm forms the epidermis; adrenal medulla is neural crest derived; back dermis is paraxial mesoderm."}, {"lo": "Germ Layers – Mesoderm", "question": "Paraxial mesoderm gives rise to:", "options": ["Renal tubules", "Cardiac muscle only", "Somites that form skeletal muscle and much of the axial skeleton", "Limb nerves"], "answer": "C", "explanation": "Paraxial mesoderm segments into somites → sclerotome (axial skeleton), myotome (skeletal muscle), dermatome (dermis)."}, {"lo": "Germ Layers – Endoderm", "question": "A definitive endoderm derivative is:", "options": ["Hepatocytes", "Melanocytes", "Microglia", "Vertebral cartilage"], "answer": "A", "explanation": "Endoderm forms epithelial components of the GI tract and organs such as the liver (hepatocytes)."}, {"lo": "Clinical – Teratogens", "question": "A 22-year-old unknowingly consumes high-dose isotretinoin (retinoic acid) during early pregnancy. The embryo is most vulnerable to major structural defects during:", "options": ["First 2 weeks", "Weeks 3–8", "Weeks 9–12", "Third trimester"], "answer": "B", "explanation": "Organogenesis (weeks 3–8) is the critical period for teratogen-induced malformations."}, {"lo": "Clinical – Abnormal Implantation", "question": "Placenta accreta spectrum is most closely associated with:", "options": ["Excess trophoblast invasion into the myometrium", "Lack of lacunar network formation", "Failure of primitive streak regression", "Defective amniotic membrane"], "answer": "A", "explanation": "Accreta spectrum involves abnormally deep trophoblast invasion due to defective decidua basalis, from accreta to percreta."}, {"lo": "Clinical – Primitive Streak", "question": "Sacrococcygeal teratoma arises from:", "options": ["Defects in lateral folding", "Persistent pluripotent cells of the primitive streak at the caudal end", "Abnormal notochord signaling", "Failure of neural tube closure"], "answer": "B", "explanation": "SCT is derived from remnants of the primitive streak containing pluripotent cells at the caudal region."}, {"lo": "Clinical – Gastrulation", "question": "A teratogen impairs epiblast cell ingression through the primitive streak. Which tissue is most directly reduced?", "options": ["Surface ectoderm", "Intraembryonic mesoderm", "Extraembryonic mesoderm only", "Chorionic trophoblast"], "answer": "B", "explanation": "Ingressing epiblast cells form intraembryonic mesoderm; impairment reduces mesoderm-derived tissues."}];

let state = { answered: 0, correct: 0, selections: {} };
const quizEl = document.getElementById('quiz');
const resultsEl = document.getElementById('results');
const reviewEl = document.getElementById('review');
const progressEl = document.getElementById('progress');
const startBtn = document.getElementById('startBtn');
const revealAllBtn = document.getElementById('revealAllBtn');
const shuffleBtn = document.getElementById('shuffleBtn');

function letter(idx){ return String.fromCharCode(65 + idx); }

function render() {
  quizEl.innerHTML = '';
  QUESTIONS.forEach((q, qi) => {
    const qBox = document.createElement('div');
    qBox.className = 'q';
    qBox.innerHTML = `
      <div class="meta">LO: ${q.lo}</div>
      <h3>Q${qi + 1}. ${q.question}</h3>
      <div class="options"></div>
      <div class="explain" id="exp-${qi}"><strong>Explanation:</strong> ${q.explanation}</div>
    `;
    const opts = qBox.querySelector('.options');
    q.options.forEach((opt, oi) => {
      const id = `q${qi}-o${oi}`;
      const label = document.createElement('label');
      label.className = 'opt';
      label.setAttribute('for', id);
      label.innerHTML = `
        <input type="radio" name="q${qi}" id="${id}" value="${letter(oi)}" />
        <div><strong>${letter(oi)}</strong>. ${opt}</div>
      `;
      label.addEventListener('click', () => handleChoice(qi, letter(oi), label));
      opts.appendChild(label);
    });
    quizEl.appendChild(qBox);
  });
  updateProgress();
  resultsEl.textContent = '';
  renderReview();
}

function handleChoice(qi, choice, labelEl) {
  const already = state.selections[qi];
  if (already) {
    const prevLabels = labelEl.closest('.options').querySelectorAll('.opt');
    prevLabels.forEach(l => l.classList.remove('correct','incorrect'));
  }
  const correctLetter = QUESTIONS[qi].answer;
  const isCorrect = (choice === correctLetter);

  const optionsBox = labelEl.closest('.options');
  const labels = optionsBox.querySelectorAll('.opt');
  labels.forEach((l, idx) => {
    const L = letter(idx);
    l.classList.remove('correct','incorrect');
    if (L === choice) l.classList.add(isCorrect ? 'correct' : 'incorrect');
    if (L === correctLetter && !isCorrect) l.classList.add('correct');
  });

  document.getElementById(`exp-${qi}`).classList.add('show');

  if (!already) {
    state.answered += 1;
    if (isCorrect) state.correct += 1;
  } else {
    if (already.correct && !isCorrect) state.correct -= 1;
    if (!already.correct && isCorrect) state.correct += 1;
  }
  state.selections[qi] = { choice, correct: isCorrect };
  updateProgress();
  renderSummary();
  renderReview();
}

function updateProgress() {
  const rem = QUESTIONS.length - state.answered;
  progressEl.textContent = `Unanswered: ${rem}`;
  const reviewDetails = document.getElementById('reviewDetails');
  if (state.answered === QUESTIONS.length) {
    reviewDetails.style.pointerEvents = 'auto';
    reviewDetails.style.opacity = '1';
  } else {
    reviewDetails.style.pointerEvents = 'none';
    reviewDetails.style.opacity = '0.5';
    reviewDetails.open = false;
  }
}

function renderSummary() {
  resultsEl.textContent = `Score: ${state.correct} / ${QUESTIONS.length} (${Math.round(100*state.correct/QUESTIONS.length)}%)`;
}

function renderReview() {
  let html = `<table><thead><tr><th>#</th><th>Your Choice</th><th>Correct</th><th>Result</th><th>LO</th></tr></thead><tbody>`;
  QUESTIONS.forEach((q, i) => {
    const sel = state.selections[i];
    const your = sel ? sel.choice : "—";
    html += `<tr>
      <td>${i+1}</td>
      <td>${your}</td>
      <td>${q.answer}</td>
      <td>${sel ? (sel.correct ? "✔" : "✖") : ""}</td>
      <td>${q.lo}</td>
    </tr>`;
  });
  html += `</tbody></table>`;
  reviewEl.innerHTML = html;
}

function revealAll() {
  document.querySelectorAll('.explain').forEach(div => div.classList.add('show'));
  document.querySelectorAll('.q').forEach((qBox, qi) => {
    const correctLetter = QUESTIONS[qi].answer;
    qBox.querySelectorAll('.opt').forEach((l, idx) => {
      const L = letter(idx);
      l.classList.remove('correct','incorrect');
      if (L === correctLetter) l.classList.add('correct');
    });
  });
}

function shuffleQuestions() {
  for (let i = QUESTIONS.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [QUESTIONS[i], QUESTIONS[j]] = [QUESTIONS[j], QUESTIONS[i]];
  }
  resetState();
  render();
}

function resetState() { state = { answered: 0, correct: 0, selections: {} }; }

document.getElementById('yr').textContent = new Date().getFullYear();
startBtn.addEventListener('click', () => { resetState(); render(); });
revealAllBtn.addEventListener('click', revealAll);
shuffleBtn.addEventListener('click', shuffleQuestions);
render();
</script>
</body>
</html>
